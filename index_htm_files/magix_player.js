/**magix_player**/
var magixAudioVideoPlayer=null;function clog(obj){return ;if(navigator.userAgent.toLowerCase().indexOf("msie")==-1){console.log(obj)}else{if($("#mlog").length<=0){$("body").append("<div id='mlog' style='position:absolute;top:0;left:0;z-index:100000;background:#fff;color:#000;padding:10px;border:solid 1px red;'></div>")}$("#mlog").append(obj+"<br />")}}function MagixBase(){this.throwError=throwError;this.checkBrowser=checkBrowser;this.isNumber=isNumber;this.base=base;this.base();function base(){this.gl_isIE=this.checkBrowser("MSIE")}function throwError(func,err){clog("Error in "+func+": ");clog(err);return false}function checkBrowser(name){var agent=navigator.userAgent.toLowerCase();if(agent.indexOf(name.toLowerCase())>-1){return true}return false}function isNumber(n){return !isNaN(parseFloat(n))&&isFinite(n)}}function MagixPlayer(){this.base=MagixBase;this.base();this.flashMovie=false;this.flashAudioMovie=false;this.flashVideoMovie=false;this.flashEnabled=false;this.playerContainer=null;this.loaderContainer=null;this.contentContainer=null;this.controlContainer=null;this.errorContainer=null;this.errorhoverContainer=null;this.flashContainer=null;this.htmlContainer=null;this.playlist=[];this.showPlaylist=true;this.orderList=[];this.orderReference=[];this.plIndex=0;this.actIndex=-1;this.nav=null;this.mediaElem=null;this.playlistElem=null;this.btnPlayElem=null;this.btnStopElem=null;this.btnPauseElem=null;this.btnNextElem=null;this.btnPrevElem=null;this.btnLoopElem=null;this.btnLoopActiveElem=null;this.btnShuffleElem=null;this.btnShuffleActiveElem=null;this.btnFullscreenElem=null;this.bntMuteElem=null;this.bntUnmuteElem=null;this.bntVolumeMaxElem=null;this.bntVolumeBarElem=null;this.btnVolumeValElem=null;this.fieldCurTimeElem=null;this.fieldDurationElem=null;this.btnTimeBarElem=null;this.btnTimeValElem=null;this.properties={};this.swfData={};this.showVideo="auto";this.playFlash=false;this.paused=true;this.lastMediaVolume=0.8;this.duration=0;this.curTime=0;this.screen={width:"400",height:"400"};this.order="flash";this.isStarted=false;this.propertiesSet=false;this.keysActivated=false;this.init=init;this.start=start;this.destroy=destroy;this.setCssSelectors=setCssSelectors;this.setProperties=setProperties;this.setPlaylist=setPlaylist;this.playMedia=playMedia;this.playNext=playNext;this.stopMedia=stopMedia;this.unloadMedia=unloadMedia;this.loadMedia=loadMedia;this.loadFlash=loadFlash;this.loadHTML=loadHTML;this.prepareHTML=prepareHTML;this.checkMediaType=checkMediaType;this.setMediaVolume=setMediaVolume;this.setMediaVolumeBar=setMediaVolumeBar;this.startTimer=startTimer;this.setTimer=setTimer;this.setCurTime=setCurTime;this.activateKeys=activateKeys;this.deactivateKeys=deactivateKeys;this.loopMedia=loopMedia;this.shufflePlaylist=shufflePlaylist;this.fullscreenMedia=fullscreenMedia;this.fnFallback=fnFallback;this.loadDefaultFlash=loadDefaultFlash;this.setDuration=setDuration;this.getTimeVal=getTimeVal;this.trackEnded=trackEnded;this.setPropertyCookie=setPropertyCookie;this.getPropertyCookie=getPropertyCookie;this.checkFlashPlugin=checkFlashPlugin;this.buildSWF=buildSWF;this.getTimer=getTimer;this.stopTimer=stopTimer;this.showError=showError;this.hideError=hideError;function init(properties){this.nav=navigator;this.flashEnabled=this.checkFlashPlugin();this.properties=properties;if(this.setCssSelectors()){var zIndex=this.playerContainer.css("z-index");this.contentContainer.css({opacity:0});this.errorContainer.hide();this.errorhoverContainer.hide();var cData=this.getPropertyCookie();if(cData){if(cData.volume>0){this.properties.volume=cData.volume}if(this.properties.playLoop=="auto"||this.properties.playLoop==undefined){this.properties.playLoop=cData.loop}}if(this.btnPauseElem!=null){this.btnPauseElem.hide()}if(this.btnUnmuteElem!=null){this.btnUnmuteElem.hide()}this.loadDefaultFlash()}else{alert("Error: Unable to open player")}}function start(){if(!this.isStarted){this.isStarted=true;this.videoContainer.css({opacity:"0",height:"1px",overflow:"hidden"});$(this.contentContainer).show();this.setProperties();this.screen={width:$(window).width(),height:$(window).height(),containerWidth:this.playerContainer.width(),containerHeight:$(window).height()-40,mediaHeight:this.properties.flash.height,mediaWidth:this.properties.flash.width};this.flashContainer.css({opacity:0});this.htmlContainer.css({opacity:1});this.loopMedia();this.shufflePlaylist();this.setMediaVolume(this.properties.volume);var cObj=this;$(this.properties.loaderID).animate({opacity:"0"},2000,function(){$(cObj.properties.loaderID).hide();cObj.contentContainer.css({opacity:1});if(typeof (cObj.properties.fn.fnStart)=="function"){cObj.properties.fn.fnStart()}if(cObj.properties.autoplay){cObj.playNext(0,true)}else{cObj.playNext(0,false)}})}}function destroy(){this.unloadMedia();this.actIndex=-1;this.plIndex=0;this.btnPauseElem.hide();this.btnPlayElem.show();this.stopTimer();this.setTimer(0);return }function setCssSelectors(){if(this.properties.order!=null&&this.properties.order!=undefined){this.order=this.properties.order.toLowerCase()}if(this.properties.containerID!=null&&this.properties.containerID!=undefined){this.playerContainer=$(this.properties.containerID)}else{return this.throwError("setCssSelectors (1)","No containerID defined")}if(this.properties.controlID!=null&&this.properties.controlID!=undefined){this.controlContainer=this.playerContainer.find(this.properties.controlID)}else{return this.throwError("setCssSelectors (2)","No controlID defined")}if(this.properties.errorID!=null&&this.properties.errorID!=undefined){this.errorContainer=this.playerContainer.find(this.properties.errorID)}else{return this.throwError("setCssSelectors (3)","No errorID defined")}if(this.properties.errorhoverID!=null&&this.properties.errorhoverID!=undefined){this.errorhoverContainer=this.playerContainer.find(this.properties.errorhoverID)}else{return this.throwError("setCssSelectors (3)","No errorhoverID defined")}if(this.properties.htmlID!=null&&this.properties.htmlID!=undefined){this.htmlContainer=this.playerContainer.find("#"+this.properties.htmlID)}else{return this.throwError("setCssSelectors (4)","No htmlID defined")}if(this.properties.flashID!=null&&this.properties.flashID!=undefined){this.flashContainer=this.playerContainer.find("#"+this.properties.flashID)}else{return this.throwError("setCssSelectors (5)","No flashID defined")}this.pre=(this.properties.pre===null||this.properties.pre===undefined)?"mp":this.properties.pre;if(this.properties.loaderID!=null&&this.properties.loaderID!=undefined){this.loaderContainer=this.playerContainer.find(this.properties.loaderID)}if(this.properties.videoID!=null&&this.properties.videoID!=undefined){this.videoContainer=this.playerContainer.find(this.properties.videoID)}if(this.properties.contentID!=null&&this.properties.contentID!=undefined){this.contentContainer=this.playerContainer.find(this.properties.contentID)}if(this.properties.cssSelectors.play!=null&&this.properties.cssSelectors.play!=undefined){this.btnPlayElem=this.playerContainer.find(this.properties.cssSelectors.play)}if(this.properties.cssSelectors.stop!=null&&this.properties.cssSelectors.stop!=undefined){this.btnStopElem=this.playerContainer.find(this.properties.cssSelectors.stop)}if(this.properties.cssSelectors.pause!=null&&this.properties.cssSelectors.pause!=undefined){this.btnPauseElem=this.playerContainer.find(this.properties.cssSelectors.pause)}if(this.properties.cssSelectors.next!=null&&this.properties.cssSelectors.next!=undefined){this.btnNextElem=this.playerContainer.find(this.properties.cssSelectors.next)}if(this.properties.cssSelectors.previous!=null&&this.properties.cssSelectors.previous!=undefined){this.btnPrevElem=this.playerContainer.find(this.properties.cssSelectors.previous)}if(this.properties.cssSelectors.loop!=null&&this.properties.cssSelectors.loop!=undefined){this.btnLoopElem=this.playerContainer.find(this.properties.cssSelectors.loop)}if(this.properties.cssSelectors.fullscreen!=null&&this.properties.cssSelectors.fullscreen!=undefined){this.btnFullscreenElem=this.playerContainer.find(this.properties.cssSelectors.fullscreen)}if(this.properties.cssSelectors.mute!=null&&this.properties.cssSelectors.mute!=undefined){this.btnMuteElem=this.playerContainer.find(this.properties.cssSelectors.mute)}if(this.properties.cssSelectors.unmute!=null&&this.properties.cssSelectors.unmute!=undefined){this.btnUnmuteElem=this.playerContainer.find(this.properties.cssSelectors.unmute)}if(this.properties.cssSelectors.volumeMax!=null&&this.properties.cssSelectors.volumeMax!=undefined){this.btnVolumeMaxElem=this.playerContainer.find(this.properties.cssSelectors.volumeMax)}if(this.properties.cssSelectors.volumeBar!=null&&this.properties.cssSelectors.volumeBar!=undefined){this.btnVolumeBarElem=this.playerContainer.find(this.properties.cssSelectors.volumeBar)}if(this.properties.cssSelectors.volumeVal!=null&&this.properties.cssSelectors.volumeVal!=undefined){this.btnVolumeValElem=this.playerContainer.find(this.properties.cssSelectors.volumeVal)}if(this.properties.cssSelectors.curTime!=null&&this.properties.cssSelectors.curTime!=undefined){this.fieldCurTimeElem=this.playerContainer.find(this.properties.cssSelectors.curTime)}if(this.properties.cssSelectors.duration!=null&&this.properties.cssSelectors.duration!=undefined){this.fieldDurationElem=this.playerContainer.find(this.properties.cssSelectors.duration)}if(this.properties.cssSelectors.timeBar!=null&&this.properties.cssSelectors.timeBar!=undefined){this.btnTimeBarElem=this.playerContainer.find(this.properties.cssSelectors.timeBar)}if(this.properties.cssSelectors.timeVal!=null&&this.properties.cssSelectors.timeVal!=undefined){this.btnTimeValElem=this.playerContainer.find(this.properties.cssSelectors.timeVal)}if(this.properties.cssSelectors.loop!=null&&this.properties.cssSelectors.loop!=undefined){this.btnLoopElem=this.playerContainer.find(this.properties.cssSelectors.loop)}if(this.properties.cssSelectors.loopActive!=null&&this.properties.cssSelectors.loopActive!=undefined){this.btnLoopActiveElem=this.playerContainer.find(this.properties.cssSelectors.loopActive)}if(this.properties.cssSelectors.shuffle!=null&&this.properties.cssSelectors.shuffle!=undefined){this.btnShuffleElem=this.playerContainer.find(this.properties.cssSelectors.shuffle)}if(this.properties.cssSelectors.shuffleActive!=null&&this.properties.cssSelectors.shuffleActive!=undefined){this.btnShuffleActiveElem=this.playerContainer.find(this.properties.cssSelectors.shuffleActive)}if(this.properties.cssSelectors.playlist!=null&&this.properties.cssSelectors.playlist!=undefined){this.playlistElem=this.playerContainer.find(this.properties.cssSelectors.playlist)}return true}function setProperties(){if(!this.propertiesSet){this.propertiesSet=true;var cObj=this;this.properties.playLoop=(this.properties.playLoop===true)?true:false;this.properties.fullscreen=(this.properties.fullscreen===true)?true:false;this.properties.showTimebar=(this.properties.showTimebar===true)?true:false;this.properties.autoplay=(this.properties.autoplay===true)?true:false;this.properties.type=(this.properties.type==="video"||this.properties.type==="audio")?this.properties.type:"auto";this.properties.resize=(this.properties.resize===true)?true:false;this.properties.showPlaylist=(this.showPlaylist===false)?false:true;if(this.properties.playlist!=null&&this.properties.playlist!=undefined&&this.properties.playlist.length>0){this.playlist=this.properties.playlist;this.setPlaylist(this.playlist)}var arBtns=[{elem:cObj.btnPlayElem,name:"Play",fn:function(){cObj.playMedia()}},{elem:cObj.btnPauseElem,name:"Pause",fn:function(){cObj.stopMedia(false)}},{elem:cObj.btnNextElem,name:"Next",fn:function(){cObj.playNext(1,true)}},{elem:cObj.btnPrevElem,name:"Prev",fn:function(){cObj.playNext(-1,true)}},{elem:cObj.btnStopElem,name:"Stop",fn:function(){cObj.stopMedia(true)}},{elem:cObj.btnMuteElem,name:"Mute",fn:function(){cObj.setMediaVolume(0);$(this).hide();cObj.btnUnmuteElem.show()}},{elem:cObj.btnUnmuteElem,name:"Unmute",fn:function(){cObj.setMediaVolume(cObj.lastMediaVolume)}},{elem:cObj.btnVolumeMaxElem,name:"VolumeMax",fn:function(){cObj.setMediaVolume(1)}},{elem:cObj.btnVolumeBarElem,name:"VolumeBar",fn:function(e){cObj.setMediaVolumeBar(e)}},{elem:cObj.btnLoopElem,name:"Loop",fn:function(){cObj.properties.playLoop=!cObj.properties.playLoop;cObj.loopMedia()}},{elem:cObj.btnLoopActiveElem,name:"LoopActive",fn:function(){cObj.properties.playLoop=!cObj.properties.playLoop;cObj.loopMedia()}},{elem:cObj.btnShuffleElem,name:"Shuffle",fn:function(){cObj.properties.shuffle=!cObj.properties.shuffle;cObj.shufflePlaylist()}},{elem:cObj.btnShuffleActiveElem,name:"ShuffleActive",fn:function(){cObj.properties.shuffle=!cObj.properties.shuffle;cObj.shufflePlaylist()}},{elem:cObj.btnFullscreenElem,name:"Fullscreen",fn:function(){cObj.properties.fullscreen=!cObj.properties.fullscreen;cObj.fullscreenMedia()}}];$.each(arBtns,function(k,v){if(v.elem!=null&&v.elem!=undefined){v.elem.click(v.fn);v.elem.mouseover(function(){$(this).addClass(cObj.pre+"-btn"+v.name+"Hover")});v.elem.mouseout(function(){$(this).removeClass(cObj.pre+"-btn"+v.name+"Hover")})}});if(this.btnTimeBarElem!=null){this.btnTimeBarElem.click(function(e){var totLength=cObj.btnTimeBarElem.width();var absLeft=cObj.btnTimeBarElem.offset().left;var absClicked=e.pageX-absLeft;if(totLength>0&&absClicked>0&&absClicked<Number(totLength)){cObj.curTime=Math.floor(absClicked/totLength*cObj.duration);if(cObj.playFlash){cObj.playMedia()}else{cObj.mediaElem.currentTime=cObj.curTime}}})}$("html").keydown(function(e){if(cObj.keysActivated){switch(e.keyCode){case 32:if(cObj.paused){cObj.playMedia()}else{cObj.stopMedia(false)}break;case 37:cObj.playNext(-1,true);break;case 39:cObj.playNext(1,true);break;case 38:if(cObj.properties.volume<1){cObj.setMediaVolume(cObj.properties.volume+0.1)}break;case 40:if(cObj.properties.volume>0){cObj.setMediaVolume(cObj.properties.volume-0.1)}break;case 76:if(cObj.btnLoopElem!=null){cObj.properties.playLoop=!cObj.properties.playLoop}cObj.loopMedia();break;case 83:if(cObj.btnShuffleElem!=null){cObj.properties.shuffle=!cObj.properties.shuffle}cObj.shufflePlaylist();break;case 27:if(typeof (cObj.properties.fn.fnESC)=="function"){cObj.properties.fn.fnESC()}break}}});if(this.properties.activateKeys===true){this.activateKeys()}$("."+this.pre+"-playlistItem").click(function(){cObj.plIndex=cObj.orderReference[parseInt($(this).attr("label"))];cObj.playNext(0,true)})}}function activateKeys(){this.keysActivated=true}function deactivateKeys(){this.keysActivated=false}function setPropertyCookie(){$.cookie(this.pre+"-properties",this.properties.volume+"[#]"+this.properties.playLoop+"[#]"+this.properties.shuffle,{hoursToLive:144})}function getPropertyCookie(){var temp=$.cookie(this.pre+"-properties");if(temp==null){return false}temp=temp.split("[#]");if(temp.length>=2){return{volume:parseFloat(temp[0]),loop:temp[1],shuffle:temp[2]}}return false}function setPlaylist(playlist){this.playlist=playlist;this.plIndex=0;var i=0;var cObj=this;if(this.showPlaylist){if(this.playlistElem!=null){$("."+cObj.pre+"-realTrack").remove();var pattern=$("#"+cObj.pre+"-pl-pattern");var showNr=(pattern.find("."+cObj.pre+"-pi_track_nr").length>0)?true:false;var showType=(pattern.find("."+cObj.pre+"-pi_track_type").length>0)?true:false;var showTitle=(pattern.find("."+cObj.pre+"-pi_track_title").length>0)?true:false;if(typeof (this.playlist)=="object"){$.each(this.playlist,function(){var obj=pattern.clone();var type=cObj.checkMediaType(this);obj.addClass(cObj.pre+"-realTrack");if(i==0){obj.addClass(cObj.pre+"-first "+cObj.pre+"-pi-current")}if(i==cObj.playlist.length-1){obj.addClass(cObj.pre+"-last")}obj.attr({label:i,id:cObj.pre+"-pi-"+i});if(showType){obj.find("."+cObj.pre+"-pi_track_type").html(type.extension)}if(showTitle){obj.find("."+cObj.pre+"-pi_track_title").html(this.title);obj.find("."+cObj.pre+"-pi_track_title").attr({title:this.title})}cObj.orderList.push(i);i++;if(showNr){obj.find("."+cObj.pre+"-pi_track_nr").html(i)}cObj.playlistElem.append(obj)})}$("."+cObj.pre+"-playlistItem").show();$("."+cObj.pre+"-playlistItem").unbind("mouseover");$("."+cObj.pre+"-playlistItem").unbind("mouseout");$("."+cObj.pre+"-playlistItem").bind("mouseover",function(){$(this).addClass(cObj.pre+"-pi-mover")});$("."+cObj.pre+"-playlistItem").bind("mouseout",function(){$(this).removeClass(cObj.pre+"-pi-mover")});pattern.hide()}else{if(typeof (this.playlist)=="object"){$.each(this.playlist,function(){var type=cObj.checkMediaType(this);cObj.orderList.push(i);i++})}}}}function trackEnded(){this.duration=0;this.fieldCurTimeElem.html("0:00");this.fieldDurationElem.html("0:00");this.stopMedia(true);this.playNext(1,true)}function playNext(summand,play){this.errorContainer.hide();this.errorhoverContainer.hide();if(summand==-1){this.setCurTime();if(this.curTime>3){summand=0}}this.curTime=0;this.duration=0;this.plIndex+=Number(summand);if(!this.loadMedia(play)){if(!this.flashEnabled){this.showError("noplugin")}else{this.showError("fatal")}this.videoContainer.css({opacity:"0",height:"1px",overflow:"hidden"});this.flashContainer.css({opacity:"0"});this.htmlContainer.css({opacity:"0"})}}function setCurTime(){if(this.playFlash){this.curTime=this.flashMovie.getPlaytime()}else{this.curTime=this.mediaElem.currentTime}}function playMedia(){this.controlContainer.show();this.btnPauseElem.show();this.btnPlayElem.hide();if(this.playlist[this.orderList[this.plIndex]].src==undefined){this.loadMedia(true);return }if(this.playFlash){if(this.flashMovie){if(this.curTime==0){try{this.flashMovie.setVolume(this.properties.volume)}catch(err){return this.throwError("playMedia",err)}}try{this.flashMovie.startPlayback(this.curTime)}catch(err){}}}else{if(typeof (this.mediaElem)=="object"&&this.mediaElem!=null){tempElem=document.createElement("audio");tempElem.setAttribute("src",this.mediaElem.getAttribute("src"));tempElem.setAttribute("preload",true);tempElem.setAttribute("type",this.mediaElem.getAttribute("type"));this.mediaElem=tempElem;this.mediaElem.play()}else{return false}}this.paused=false;this.startTimer()}function stopMedia(stop){this.btnPauseElem.hide();this.btnPlayElem.show();this.stopTimer();if(stop){this.setTimer(0);this.playNext(0,false);return }if(this.playFlash){this.curTime=this.flashMovie.getPlaytime();this.flashMovie.pausePlayback()}else{this.mediaElem.pause()}this.paused=true}function loopMedia(){if(this.properties.playLoop){if(this.btnLoopElem!=null&&this.btnLoopActiveElem!=null){this.btnLoopElem.hide();this.btnLoopActiveElem.show()}}else{if(this.btnLoopElem!=null&&this.btnLoopActiveElem!=null){this.btnLoopActiveElem.hide();this.btnLoopElem.show()}}this.setPropertyCookie()}function shufflePlaylist(){this.orderReference=this.orderList;if(this.properties.shuffle){if(this.btnShuffleElem!=null&&this.btnShuffleActiveElem!=null){this.btnShuffleElem.hide();this.btnShuffleActiveElem.show()}var temp=this.orderList;var len=this.playlist.length;var index=this.orderList[this.plIndex];this.orderList=new Array();this.orderList.push(temp[index]);this.orderReference[temp[index]]=0;temp=temp.slice(0,index).concat(temp.slice(index+1));for(var i=1;i<len;i++){index=parseInt(Math.random()*(temp.length-1));this.orderList.push(temp[index]);this.orderReference[temp[index]]=i;temp=temp.slice(0,index).concat(temp.slice(index+1))}}else{if(this.btnShuffleElem!=null&&this.btnShuffleActiveElem!=null){this.btnShuffleElem.show();this.btnShuffleActiveElem.hide()}this.plIndex=this.orderList[this.plIndex];var numsort=function(a,b){return a-b};this.orderList.sort(numsort);this.orderReference=this.orderList}this.setPropertyCookie()}function fullscreenMedia(){if(this.properties.fullscreen){if(this.btnFullscreenElem!=null){this.btnFullscreenElem.addClass("mp-fullscreenInactive");this.btnFullscreenElem.removeClass("mp-fullscreenActive")}window.resizeTo(screen.width,screen.height);this.playerContainer.width(screen.width-80);this.playerContainer.height(screen.height-110);if(this.playlistElem!=null){this.playlistElem.hide()}this.mediaElem.height=$(window).height()-200;this.mediaElem.width=$(window).width()-40}else{if(this.btnFullscreenElem!=null){this.btnFullscreenElem.addClass("mp-fullscreenActive");this.btnFullscreenElem.removeClass("mp-fullscreenInactive")}mediaHeight=this.screen.mediaHeight;mediaWidth=this.screen.mediaWidth;this.playerContainer.width(this.screen.containerWidth);this.playerContainer.height(this.screen.containerHeight);if(mediaWidth>0&&mediaHeight>0){window.resizeTo(this.screen.width+20,this.screen.height);try{this.mediaElem.height=mediaHeight;this.mediaElem.width=mediaWidth}catch(err){}}if(this.playlistElem!=null){this.playlistElem.show()}}}function setMediaVolume(value){if(typeof (value)=="number"&&value>=0&&value<=1){if(this.btnUnmuteElem!=null){this.btnUnmuteElem.hide();this.btnMuteElem.show()}this.lastMediaVolume=this.properties.volume;this.properties.volume=value;if(this.btnVolumeValElem!=null&&this.btnVolumeBarElem!=null){this.btnVolumeValElem.width(Math.floor(value*this.btnVolumeBarElem.width()))}try{this.mediaElem.volume=value}catch(err){}try{this.flashMovie.setVolume(value)}catch(err){}this.setPropertyCookie();return true}}function setMediaVolumeBar(e){if(this.btnVolumeBarElem!=null){var totLength=this.btnVolumeBarElem.width();var absLeft=this.btnVolumeBarElem.offset().left;var absClicked=e.pageX-absLeft;if(totLength>0&&absClicked>0&&absClicked<Number(totLength)){this.setMediaVolume(Math.floor(absClicked/totLength*100)/100)}}}function startTimer(){if(this.properties.showTimebar){this.curTime=0;this.duration=0;this.setDuration();this.getTimer()}}function setTimer(cTime){try{if(this.playlist[this.orderList[this.plIndex]].duration==0||this.playlist[this.orderList[this.plIndex]].duration===undefined){var duration=0;if(this.flashMovie&&this.playFlash){duration=this.flashMovie.getDuration()}else{if(!this.playFlash&&this.duration==0){duration=this.mediaElem.duration}}}else{var duration=this.playlist[this.orderList[this.plIndex]].duration}if(duration!=this.duration){this.duration=duration;this.setDuration()}}catch(err){this.duration=0}this.fieldCurTimeElem.html(this.getTimeVal(cTime));if(this.btnTimeBarElem!=null&&this.btnTimeValElem!=null){var paneWidth=(this.duration>0)?Math.floor((this.btnTimeBarElem.width()/this.duration)*cTime):0;this.btnTimeValElem.width(paneWidth)}}function setDuration(){this.fieldDurationElem.html(this.getTimeVal(parseInt(this.duration)))}function getTimeVal(tSecs){if(tSecs>0){min=Math.floor(tSecs/60);sec=Math.floor(tSecs-min*60);if(sec<10){sec="0"+sec}return min+":"+sec}else{return"0:00"}}function getTimer(){this.stopTimer();if(!this.paused){var cTime=0;if(!this.playFlash){cTime=this.mediaElem.currentTime}else{if(this.flashMovie.getPlaytime()){cTime=this.flashMovie.getPlaytime()}}this.setTimer(cTime);cTime++;if(this.duration==0||(this.duration>0&&cTime<this.duration)){var obj=this;this.mpTimer=window.setTimeout(function(){obj.getTimer()},1000)}else{if(this.duration>0&&cTime>=this.duration-1){this.trackEnded()}}}}function stopTimer(){window.clearTimeout(this.mpTimer);this.mpTimer=null}function checkMediaType(obj){if(obj.ogg!=null&&obj.ogg!=undefined){return{media:"audio",extension:"ogg",type:"audio/ogg",codex:"; codecs=vorbis"}}if(obj.oga!=null&&obj.oga!=undefined){return{media:"audio",extension:"ogg",type:"audio/ogg",codex:"; codecs=flac"}}if(obj.mp3!=null&&obj.mp3!=undefined){return{media:"audio",extension:"mp3",type:"audio/mpeg",codex:""}}if(obj.wav!=null&&obj.wav!=undefined){return{media:"audio",extension:"wav",type:"audio/wav",codex:""}}if(obj.ogv!=null&&obj.ogv!=undefined){return{media:"video",extension:"ogv",type:"video/ogg",codex:""}}if(obj.m4v!=null&&obj.m4v!=undefined){return{media:"video",extension:"m4v",type:"video/mp4",codex:""}}if(obj.webmv!=null&&obj.webmv!=undefined){return{media:"video",extension:"webm",type:"video/webm",codex:"; codecs='vp8.0, vorbis'"}}if(obj.flv!=null&&obj.flv!=undefined){return{media:"video",extension:"flv",type:"",codex:""}}if(obj.mp4!=null&&obj.mp4!=undefined){return{media:"video",extension:"mp4",type:"video/mp4",codex:""}}}function unloadMedia(){if(!this.paused&&!this.playFlash){this.mediaElem.pause()}else{if(!this.paused&&this.playFlash&&this.flashMovie){this.flashMovie.stopPlayback()}}this.paused=true}function loadMedia(play){try{this.hideError();if(this.playlist.length==0){return true}this.unloadMedia();this.plIndex=parseInt(this.plIndex);if(this.plIndex<0||!this.isNumber(this.plIndex)){this.plIndex=0}if(this.plIndex>=this.playlist.length){if(this.properties.playLoop){this.plIndex=0}else{this.plIndex=this.playlist.length-1;return true}}if(this.actIndex==this.plIndex){if(play){this.playMedia()}return true}this.actIndex=this.plIndex;if(typeof (this.playlist[this.orderList[this.plIndex]])=="object"&&(this.playlist[this.orderList[this.plIndex]].src===null||this.playlist[this.orderList[this.plIndex]].src===undefined)){this.playlist[this.orderList[this.plIndex]].mediaType=this.checkMediaType(this.playlist[this.orderList[this.plIndex]]);switch(this.playlist[this.orderList[this.plIndex]].mediaType.extension){case"ogg":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].ogg;break;case"oga":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].oga;break;case"mp3":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].mp3;break;case"wav":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].wav;break;case"ogv":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].ogv;break;case"webm":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].webmv;break;case"m4v":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].m4v;break;case"mp4":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].mp4;break;case"flv":this.playlist[this.orderList[this.plIndex]].src=this.playlist[this.orderList[this.plIndex]].flv;break}}if(this.playlist[this.orderList[this.plIndex]].mediaType.media=="audio"||this.properties.type==="audio"){this.videoContainer.css({opacity:0,height:"1px",overflow:"hidden"});this.flashContainer.css({opacity:0});this.htmlContainer.css({opacity:0})}else{this.videoContainer.css({opacity:1,height:this.screen.mediaHeight+"px",overflow:"hidden"})}if(this.playlist[this.orderList[this.plIndex]].mediaType.media=="audio"){this.flashContainer.addClass(this.pre+"-audioView")}else{this.flashContainer.removeClass(this.pre+"-audioView")}if(this.order=="flash"||this.checkBrowser("msie 7")||this.checkBrowser("msie 8")||(this.checkBrowser("safari")&&!this.checkBrowser("chrome")&&this.checkBrowser("windows"))){if(!this.loadFlash(play)){if(!this.loadHTML(play)){return false}}}else{if(!this.loadHTML(play)){if(!this.loadFlash(play)){return false}}}if($(this.contentContainer).css("opacity")<1){$(this.loaderContainer).hide();$(this.contentContainer).css({opacity:1})}$("."+this.pre+"-playlistItem").removeClass(this.pre+"-pi-current");$("#"+this.pre+"-pi-"+this.orderList[this.plIndex]).addClass(this.pre+"-pi-current")}catch(err){return this.throwError("loadMedia",err)}return true}function loadFlash(play){if(!this.flashEnabled){return false}if(!this.fnFallback()){var extensions=["flv","m4v","mp4","mpeg4","mp3"];if($.inArray(this.playlist[this.orderList[this.plIndex]].mediaType.extension,extensions)==-1){return false}if(this.playlist[this.orderList[this.plIndex]].mediaType.media=="video"){this.flashContainer.css({opacity:1,height:this.properties.flash.height+"px"});this.htmlContainer.css({opacity:0,height:"1px"})}try{if(typeof (this.flashMovie.loadMedia)=="undefined"){return this.throwError("loadFlash (2)","not able to handle flash")}this.flashMovie.loadMedia(this.playlist[this.orderList[this.plIndex]].src)}catch(err){return this.throwError("loadFlash",err)}this.playFlash=true;if(play){this.playMedia()}}else{this.fnFallback()}return true}function loadHTML(play){this.mediaElem=document.createElement(this.playlist[this.orderList[this.plIndex]].mediaType.media);if(this.mediaElem===null||this.mediaElem===undefined){return this.throwError("loadHTML (1)","Couldn't detect audio/video-Tag")}this.mediaElem.setAttribute("src",this.playlist[this.orderList[this.plIndex]].src);this.mediaElem.setAttribute("type",this.playlist[this.orderList[this.plIndex]].mediaType.type+this.playlist[this.orderList[this.plIndex]].mediaType.codex);this.htmlContainer.html("");this.htmlContainer.append(this.mediaElem);var cObj=this;if(typeof (this.mediaElem.canPlayType)=="undefined"){return this.throwError("loadHTML (2)","not able to handle audio/video")}var canPlayType=this.mediaElem.canPlayType(this.playlist[this.orderList[this.plIndex]].mediaType.type+this.playlist[this.orderList[this.plIndex]].mediaType.codex);if(!canPlayType.match(/maybe|probably/i)){return this.throwError("loadHTML (3)","Couldn't load html")}cObj.doPlay=play;this.mediaElem.addEventListener("loadedmetadata",function(){cObj.prepareHTML(cObj.doPlay)},false);this.mediaElem.addEventListener("ended",function(){cObj.trackEnded()},false);if(this.playlist[this.orderList[this.plIndex]].mediaType.media=="video"){this.htmlContainer.css({opacity:1,height:this.properties.flash.height+"px"});this.flashContainer.css({opacity:0,height:"1px"})}this.playFlash=false;return true}function prepareHTML(play){if(this.mediaElem.readyState>0){try{if(!this.isNumber(this.playlist[this.orderList[this.plIndex]].duration)||this.playlist[this.orderList[this.plIndex]].duration==0){if(this.isNumber(this.mediaElem.duration)){this.playlist[this.orderList[this.plIndex]].duration=this.mediaElem.duration}else{if(this.order=="html"){this.loadFlash(play)}else{this.showError("fatal")}return false}}var listenerLM=function(lcObj){var min,sec;lcObj.duration=0;if(lcObj.mediaElem.duration!="Infinity"&&lcObj.mediaElem.duration>0){lcObj.duration=Math.floor(lcObj.mediaElem.duration)}lcObj.setDuration();lcObj.mediaElem.currentTime=lcObj.curTime};var cObj=this;if(this.mediaElem.addEventListener){cObj.mediaElem.addEventListener("play",listenerLM(cObj),false)}if(cObj.playlist[this.orderList[this.plIndex]].mediaType.media=="video"){if(cObj.mediaElem.videoHeight>this.htmlContainer.height()){cObj.mediaElem.height(this.htmlContainer.height());this.htmlContainer.find("video").css({"margin-top":"0px"})}else{var diff=parseInt(this.htmlContainer.height()-cObj.mediaElem.videoHeight)/2;this.htmlContainer.find("video").css({"margin-top":diff+"px"})}}this.mediaElem.currentTime=0;if(play){this.playMedia()}}catch(err){return this.throwError("prepareHTML (1)",err)}}else{return this.throwError("prepareHTML (2)","not loaded yet")}}function showError(errorType){switch(errorType){case"noplugin":var errorTXT=(this.checkBrowser("safari"))?this.properties.errorPluginIOSHoverTxt:this.properties.errorPluginHoverTxt;break;default:var errorTXT=(this.swfData.flashLocal)?this.properties.errorlocalHoverTxt:this.properties.errorfatalHoverTxt}this.contentContainer.hide();this.errorhoverContainer.find(".errorHover").html(errorTXT);this.errorhoverContainer.show()}function hideError(){this.contentContainer.show();this.errorContainer.hide()}function checkFlashPlugin(){if(typeof this.nav.plugins!=undefined&&typeof this.nav.plugins["Shockwave Flash"]=="object"){d=this.nav.plugins["Shockwave Flash"].description;if(d&&!(typeof this.nav.mimeTypes!=undefined&&this.nav.mimeTypes["application/x-shockwave-flash"]&&!this.nav.mimeTypes["application/x-shockwave-flash"].enabledPlugin)){return true}}else{if(typeof window.ActiveXObject!="undefined"){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a){d=a.GetVariable("$version");if(d){return true}}}catch(err){}}}return false}function fnFallback(){if(this.properties.fn.fallback){data=this.properties;data.trackIndex=this.plIndex;this.properties.fn.fallback(data,this.playlist);return true}return false}function loadDefaultFlash(){if(!this.flashEnabled){this.flashMovie=null;this.start();return false}var data=this.properties.flash;data.base=(data.base=="undefined"||data.base==null)?"":data.base;this.swfData.flashvars=false;this.swfData.params={};this.swfData.params.swliveconnect="true";this.swfData.params.allowscriptaccess="true";this.swfData.params.wmode="window";this.swfData.params.quality="high";if(data.bgColor!=null&&data.bgColor!=undefined){this.swfData.params.bgColor=data.bgColor}if(data.quality!=null&&data.quality!=undefined){this.swfData.params.quality=data.quality}if(data.wmode!=null&&data.wmode!=undefined){this.swfData.params.wmode=data.wmode}this.flashContainer.append("<div id='"+this.properties.flashID+"_mpSWFObj'></div>");var cObj=this;this.swfData.swfID=this.properties.swfID;switch(window.location.protocol){case"http:":case"https:":this.swfData.flashLocal=false;break;default:this.swfData.flashLocal=true}this.swfData.flashSrc=(this.swfData.flashLocal)?this.properties.flashSrc+"webdisk_video_container_local.swf":this.properties.flashSrc+"webdisk_video_container.swf";this.swfData.flashID=this.properties.flashID+"_mpSWFObj";this.swfData.width=data.width;this.swfData.height=data.height;this.buildSWF(cObj);return true}function buildSWF(cObj){if(this.swfData.flashID!=undefined&&this.swfData.flashID!=""){var attributes={id:this.swfData.swfID,name:this.swfData.swfID};this.swfData.width=100;this.swfData.height=100;swfobject.embedSWF(this.swfData.flashSrc,this.swfData.flashID,this.swfData.width,this.swfData.height,"10.0.0",false,this.swfData.flashvars,this.swfData.params,attributes,function(e){if(e.success){cObj.flashMovie=document.getElementById(cObj.swfData.swfID);cObj.start()}else{return false}})}}}MagixPlayer.prototype=new MagixBase;function MagixAudioVideoPlayer(properties){this.base=MagixPlayer;this.base();this.init(properties)}MagixAudioVideoPlayer.prototype=new MagixPlayer;

/**skin**/
function openMagixPlayer(params){if(params.skinType==null||params.skinType==undefined){params.skinType="small"}return new MagixPlayer_Skin(params)}function MagixPlayer_SkinBase(){this.mod={};this.dom={};this.mpProps={};this.magixPlayer=null;this.init=init;this.setParameters=setParameters;this.buildMagixPlayer=buildMagixPlayer;this.defineHTMLmoduls=defineHTMLmoduls;this.defineDOMobjects=defineDOMobjects;this.completeLoading=completeLoading;this.startLoading=startLoading;this.calculatePlaylist=calculatePlaylist;this.setDefaultPlaylistCss=setDefaultPlaylistCss;this.setDefaultErrorCss=setDefaultErrorCss;this.completeStructure=completeStructure;function init(params){this.setParameters(params);this.defineHTMLmoduls();this.buildHTMLstructure();this.startLoading();this.setCss();this.buildMagixPlayer();this.container.append("<style type='text/css'>"+this.skinStyles+"</style>")}function setParameters(params){var obj=this;var mpPropVals={skinType:"small",skinColor:"dark",container:$("body"),pre:"mx",path:"",playlist:[],plMaxHeight:"auto",plFixHeight:"auto",showPlaylist:true,errorTxt:"",errorfatalHoverTxt:"File not supported by your browser",errorlocalTxt:"",errorHoverTxt:"The MAGIX MP3 Player doesn&lsquo;t work in this browser version when viewing locally exported pages. Once your website is published online the player will work in this and in all popular web browsers. <span class='el_link'>[close]</span>",errorPluginHoverTxt:"To use the magix player please install the latest Adobe Flash-Player",errorPluginIOSHoverTxt:"To use the magix player please install the latest Adobe Flash-Player or Quicktime",cssSelectors:{}};$.each(mpPropVals,function(k,v){obj[k]=(params[k]===null||params[k]==undefined)?v:params[k]});this.pre="mxw3mp-"+this.pre;this.skinPath=this.path;this.spritePath=this.path+"sprite.png";this.loaderPath=this.path+"loader.gif";this.attentionPath=this.path+"attention.png";mpPropVals={order:"flash",fileType:"auto",fn:{},showTimer:true,playLoop:true,autoplay:true,activateKeys:true,defaultVol:0.7,flashLocal:false,flashWidth:100,flashHeight:100,flashAllowFullScreen:true};$.each(mpPropVals,function(k,v){obj.mpProps[k]=(params[k]===null||params[k]==undefined)?v:params[k]})}function defineHTMLmoduls(){this.mod.loader=$("<div id='"+this.pre+"-loader'></div>");this.mod.videoPane=$("<div id='"+this.pre+"-videoPane'></div>");this.mod.content=$("<div id='"+this.pre+"-content'></div>");this.mod.errorPane=$("<div id='"+this.pre+"-errorPane'><div id='"+this.pre+"-errorPaneInner'><div id='"+this.pre+"-errorPaneAttention'></div>"+this.errorTxt+"</div></div>");this.mod.errorhoverPane=$("<div id='"+this.pre+"-errorhoverPane'><div class='errorhoverShort'>"+this.errorlocalTxt+"</div></div>");this.mod.errorHover=$("<div id='"+this.pre+"-errorHover' class='errorHover'>"+this.errorHoverTxt+"</div>");this.mod.errorhoverPane.append(this.mod.errorHover);this.mod.controler=$("<div id='"+this.pre+"-controler'></div>");this.mod.flash=$("<div><div id='"+this.pre+"-flash'></div></div>");this.mod.html=$("<div id='"+this.pre+"-html'></div>");this.mod.btnPlay=$("<div id='"+this.pre+"-play' class='knob "+this.pre+"-btnPlay'></div>");this.mod.btnPause=$("<div id='"+this.pre+"-pause' class='knob "+this.pre+"-btnPause'></div>");this.mod.btnMute=$("<div id='"+this.pre+"-mute' class='knob "+this.pre+"-btnMute'></div>");this.mod.btnUnmute=$("<div id='"+this.pre+"-unmute' class='knob "+this.pre+"-btnUnmute'></div>");this.mod.dspCurTime=$("<span id='"+this.pre+"-curTime'></span>");this.mod.dspDuration=$("<span id='"+this.pre+"-duration'></span>");this.mod.dspTimeBar=$("<div id='"+this.pre+"-timeBar'><div id='"+this.pre+"-timeVal'></div></div>");this.mod.display=$("<div id='"+this.pre+"-display'></div>");this.mod.dspTimer=$("<div id='"+this.pre+"-timer'></div>");this.mod.volumeBar=$("<div id='"+this.pre+"-volume'><div id='"+this.pre+"-volumeBar'><div id='"+this.pre+"-volumeVal'></div></div></div>");this.mod.playlistPane=$("<div id='"+this.pre+"-playlistPane'></div>");this.mod.playlist=$("<div id='"+this.pre+"-playlist'></div>");this.mod.playlistTrack=$("<div id='"+this.pre+"-pl-pattern' class='"+this.pre+"-playlistItem'><div class='"+this.pre+"-pi_track_title'></div></div>")}function defineDOMobjects(params){var obj=this;params.push("errorPane");params.push("errorhoverPane");params.push("errorhoverShort");params.push("errorHover");params.push("flash");params.push("html");params.push("videoPane");$.each(params,function(k,value){if($("#"+obj.pre+"-"+value).length>0){obj.dom[value]=$("#"+obj.pre+"-"+value)}else{if($("."+obj.pre+"-"+value).length>0){obj.dom[value]=$("."+obj.pre+"-"+value)}else{obj.dom[value]=null}}});if(this.dom.playlist!=null&&this.dom.playlist!=undefined){this.dom.tracks=this.dom.playlist.find("."+this.pre+"-playlistItem")}this.skinStyles=""}function buildMagixPlayer(){this.container.parent().css({"overflow": "visible"});var cssSel=["play","pause","stop","next","previous","mute","unmute","volumeBar","volumeVal","volumeMax","playlist","curTime","duration","timeBar","timeVal","loop","shuffle","loopActive","shuffleActive"];var obj=this;$.each(cssSel,function(k,v){obj.cssSelectors[v]=($("#"+obj.pre+"-"+v).length>0)?"#"+obj.pre+"-"+v:null});var playerProperties={containerID:"#"+this.container.attr("id"),loaderID:"#"+this.pre+"-loader",contentID:"#"+this.pre+"-content",videoID:"#"+this.pre+"-videoPane",pre:this.pre,errorID:"#"+this.pre+"-errorPane",errorhoverID:"#"+this.pre+"-errorhoverPane",errorfatalHoverTxt:this.errorfatalHoverTxt,errorHoverTxt:this.errorHoverTxt,errorPluginHoverTxt:this.errorPluginHoverTxt,errorPluginIOSHoverTxt:this.errorPluginIOSHoverTxt,controlID:"#"+this.pre+"-controler",flashID:this.pre+"-flash",htmlID:this.pre+"-html",swfID:this.pre+"-flashFallback",flashSrc:this.path,playlist:this.playlist,showPlaylist:this.showPlaylist,order:this.mpProps.order,type:this.mpProps.fileType,fn:this.mpProps.fn,cssSelectors:this.cssSelectors,showTimebar:this.mpProps.showTimer,playLoop:this.mpProps.playLoop,autoplay:this.mpProps.autoplay,activateKeys:this.mpProps.activateKeys,volume:this.mpProps.defaultVol,flash:{local:this.mpProps.flashLocal,width:this.mpProps.flashWidth,height:this.mpProps.flashHeight,wmode:"transparent",quality:"high",allowFullScreen:this.mpProps.flashAllowFullScreen,align:"middle"}};this.magixPlayer=new MagixAudioVideoPlayer(playerProperties)}function startLoading(){this.dom.loader.show();this.dom.content.hide();if(this.dom.playlistPane!=undefined&&this.dom.playlistPane!=null){this.dom.playlistPane.hide()}}function completeLoading(){this.dom.loader.hide();this.dom.content.show();if(this.showPlaylist){this.dom.playlistPane.show()}this.container.css({"user-select":"none","-o-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none"})}function completeStructure(){this.container.append(this.mod.loader);this.mod.videoPane.append(this.mod.html);this.mod.videoPane.append(this.mod.flash);this.container.append(this.mod.videoPane);this.container.append(this.mod.errorPane);this.container.append(this.mod.errorhoverPane);this.container.append(this.mod.content)}function calculatePlaylist(controlerHeight,trackHeight){var cObj=this;if(this.showPlaylist){this.mod.playlist.append(this.mod.playlistTrack);this.mod.playlistPane.append(this.mod.playlist);this.mod.content.append(this.mod.playlistPane);this.defineDOMobjects(["playlistPane","playlist"]);if(parseInt(this.plMaxHeight)>0){var plHeight=(trackHeight*this.playlist.length<this.plMaxHeight)?Number(trackHeight*this.playlist.length)+Number(6):this.plMaxHeight;this.mod.content.height(Number(plHeight)+Number(controlerHeight))}else{if(parseInt(this.plFixHeight)>0){this.mod.content.height(Number(this.plFixHeight)+Number(controlerHeight))}}this.container.height(this.mod.content.height());var scrollParams=this.loadPLScrollParams();this.mpProps.fn.fnStart=function(){cObj.completeLoading();scrollPaneObj=new ScrollPane(scrollParams)}}else{this.mpProps.fn.fnStart=function(){cObj.completeLoading()}}}function setDefaultPlaylistCss(){if(this.showPlaylist){this.dom.playlistPane.css({"font-family":"Arial,Verdana,Sans-Serif",background:"#222",border:"solid 1px #444"});this.dom.playlist.css({margin:"0",background:"#555",color:"#ddd","font-size":"10px","white-space":"nowrap"});this.dom.tracks.css({height:"16px",padding:"2px 0px 0px 4px","border-top":"solid 1px #777","border-bottom":"solid 1px #000",cursor:"pointer"});this.skinStyles+=" ."+this.pre+"-pi-mover{background:#888;}";this.skinStyles+=" ."+this.pre+"-pi-current{background:#333;}"}}function setDefaultErrorCss(){this.dom.errorPane.css({margin:"auto",width:(this.mpPropsSkinWidth-2)+"px",height:"36px",padding:"0px",border:"solid 1px #000",background:"#efefef"});this.dom.errorPane.find("#"+this.pre+"-errorPaneAttention").css({width:"30px",height:"20px",background:"url('"+this.attentionPath+"') top left no-repeat","float":"left"});this.dom.errorPane.find("#"+this.pre+"-errorPaneInner").css({height:"12px",border:"solid 2px #f32828",padding:"10px","font-size":"10px","font-family":"Arial,Verdana,Sans-Serif",color:"black","white-space":"nowrap"});this.dom.errorhoverPane.css({"font-family":"Arial,Verdana,Sans-Serif","font-size":"12px",margin:"auto",width:(this.mpPropsSkinWidth-10)+"px",height:this.mpPropsSkinHeight+"px",padding:"0px","font-weight":"bold","text-align":"center",cursor:"pointer"});this.dom.errorhoverPane.find(".errorhoverShort").css({background:"url('"+this.skinPath+"mp_screen.jpg') center center no-repeat",width:(this.mpPropsSkinWidth-10)+"px",height:this.mpPropsSkinHeight+"px",margin:"auto"});this.dom.errorhoverPane.find(".errorHover").css({display:"none",border:"solid 1px #000",background:"#efefef",margin:"auto",padding:"6px",width:(this.mpPropsSkinWidth-22)+"px"});this.dom.errorhoverPane.find(".el_link").css({"font-size":"11px",color:"blue"});var cObj=this;this.dom.errorhoverPane.bind("mouseover",function(){$(this).css({height:"auto"});$(this).find(".errorhoverShort").hide();$(this).find(".errorHover").show()});this.dom.errorhoverPane.bind("mouseout",function(){$(this).css({height:cObj.mpPropsSkinHeight+"px"});$(this).find(".errorhoverShort").show();$(this).find(".errorHover").hide()});this.dom.errorhoverPane.bind("click",function(){$(this).css({height:"36px"});$(this).find(".errorhoverShort").show();$(this).find(".errorHover").hide()})}}MagixPlayer_SkinBase.prototype=new MagixBase;

/**theme**/
function MagixPlayer_Skin(params){this.parent=MagixPlayer_Skin.prototype;this.init=init;this.buildHTMLstructure=buildHTMLstructure;this.loadPLScrollParams=loadPLScrollParams;this.setCss=setCss;this.init(params);function init(params){params.skinType="flat";this.parent.init.call(this,params)}function buildHTMLstructure(){this.mod.dspCurTime.html("0:00");this.mod.dspDuration.html("0:00");this.mod.dspTimer.append(this.mod.dspCurTime);this.mod.dspTimer.append("/");this.mod.dspTimer.append(this.mod.dspDuration);this.mod.controler.append(this.mod.btnPlay);this.mod.controler.append(this.mod.btnPause);this.mod.controler.append(this.mod.dspTimeBar);this.mod.controler.append(this.mod.dspTimer);this.mod.controler.append(this.mod.btnMute);this.mod.controler.append(this.mod.btnUnmute);this.mod.controler.append(this.mod.volumeBar);this.mod.content.append(this.mod.controler);this.completeStructure();this.defineDOMobjects(["loader","content","controler","play","pause","mute","unmute","curTime","duration","timeBar","timeVal","timer","volumeBar","volumeVal"]);this.calculatePlaylist(18,20)}function loadPLScrollParams(){if(this.showPlaylist){return{pre:this.pre,pane:this.dom.playlistPane,scrollcontent:this.dom.playlist,height:this.container.height()-20,width:182,scrollerCSS:{background:"#222",width:"5px"},scrollbarCSS:{background:"#777",width:"5px"}}}else{return{}}}function setCss(){this.mpPropsSkinWidth=185;this.mpPropsSkinHeight=18;this.dom.loader.css({width:this.mpPropsSkinWidth+"px",height:"60px",background:"url('"+this.loaderPath+"') center center no-repeat"});var cwidth=(this.mpProps.flashWidth>this.mpPropsSkinWidth)?this.mpProps.flashWidth:this.mpPropsSkinWidth;this.container.css({width:cwidth+"px"});this.dom.controler.css({width:this.mpPropsSkinWidth+"px",height:this.mpPropsSkinHeight+"px",overflow:"hidden",background:"url('"+this.spritePath+"') 0 -1px no-repeat",margin:"0 auto 1px auto"});this.dom.controler.find(".knob").css({width:"13px",height:"12px","float":"left","margin-top":"4px","margin-bottom":"3px","margin-left":"0px","margin-right":"0px",cursor:"pointer"});this.dom.timeBar.css({"float":"left",width:"54px",height:"5px",margin:"5px 0 0 2px",padding:"2px 0",cursor:"pointer"});this.dom.timeVal.css({width:"1px",height:"4px",background:"url('"+this.spritePath+"') -60px -24px no-repeat",margin:"0",width:"0"});this.dom.timer.css({"font-size":"9px",color:"#eee","float":"left",margin:"4px 4px 0 5px"});this.dom.play.css({"margin-left":"7px"});this.dom.pause.css({"margin-left":"7px",display:"none"});this.dom.mute.css({"margin-left":"7px"});this.dom.unmute.css({"margin-left":"7px",display:"none"});this.dom.volumeBar.css({"float":"left",width:"30px",height:"4px",padding:"5px 0 0 0",margin:"2px 0 0 3px",cursor:"pointer"});this.dom.volumeVal.css({width:"20px",height:"4px",background:"url('"+this.spritePath+"') -117px -24px no-repeat",margin:"0",padding:"0"});this.dom.videoPane.css({background:"#efefef",margin:"0px 0 5px 0",border:"solid 1px #999"});this.dom.html.find("video").css({margin:"auto"});this.mod.playlistPane.css({clear:"both"});this.setDefaultPlaylistCss();this.setDefaultErrorCss();this.skinStyles+=" ."+this.pre+"-btnPlay{background:url('"+this.spritePath+"') -1px -24px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnPlayHover{background:url('"+this.spritePath+"') -1px -38px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnPause{background:url('"+this.spritePath+"') -15px -24px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnPauseHover{background:url('"+this.spritePath+"') -15px -38px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnMute{background:url('"+this.spritePath+"') -32px -24px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnMuteHover{background:url('"+this.spritePath+"') -32px -38px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnUnmute{background:url('"+this.spritePath+"') -46px -24px no-repeat;}";this.skinStyles+=" ."+this.pre+"-btnUnmuteHover{background:url('"+this.spritePath+"') -46px -38px no-repeat;}";this.skinStyles+=" #"+this.pre+"-html video{display:block;margin:0 auto}";if((this.gl_isIE)){this.dom.volumeBar.css({"margin-left":"3px"})}switch(this.skinColor){case"light":case"silver":case"lightgrey":case"grey":this.dom.timer.css({color:"#444"});break}}}MagixPlayer_Skin.prototype=new MagixPlayer_SkinBase;